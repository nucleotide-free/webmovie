<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>可视化展示</title>
    <script type="text/javascript" src="./js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="./js/echarts.min.js"></script>
</head>
<body>

   <h1>柱状图-不同电影类型占比</h1>
   <div id="main" style="width: 1300px;height: 600px"></div>
   <script type="text/javascript">

       var chartDom = document.getElementById('main');
       var myChart = echarts.init(chartDom);

       $.getJSON("./queryMovieTypeNum",function(values){

           var xAxis = []
           var yAxis = []
           for(var i=0;i<values.data.length;i++){
               xAxis.push(values.data[i]['name'])
               yAxis.push(values.data[i]['num'])
           }
           var option;

           option = {
               xAxis: {
                   type: 'category',
                   axisLabel: {
                       interval:0,
                       rotate:40 },
                   data: xAxis
               },
               yAxis: {
                   type: 'value'
               },
               series: [
                   {
                       data: yAxis,
                       type: 'bar'
                   }
               ]
           };
           myChart.setOption(option);
       })
   </script>

   <h1>饼状图-不同电影类型占比</h1>
   <div id="chart-1-type-bar" style="width: 1300px;height: 600px"></div>
   <script type="text/javascript">

       var chartDom1 = document.getElementById('chart-1-type-bar');
       var myChart1 = echarts.init(chartDom1);

       $.getJSON("./queryMovieTypeNum",function(values){

           var bufData = []
           for(var i=0;i<values.data.length;i++){
               var jsonData ={}
               jsonData.value = values.data[i]['num']
               jsonData.name = values.data[i]['name']
               bufData.push(jsonData)
           }
           option1 = {
               title: {
                   text: '不同电影类型占比',
                   // subtext: 'Fake Data',
                   left: 'center'
               },
               tooltip: {
                   trigger: 'item'
               },
               legend: {
                   orient: 'vertical',
                   left: 'left'
               },
               series: [
                   {
                       name: 'Access From',
                       type: 'pie',
                       radius: '50%',
                       data: bufData,
                       emphasis: {
                           itemStyle: {
                               shadowBlur: 10,
                               shadowOffsetX: 0,
                               shadowColor: 'rgba(0, 0, 0, 0.5)'
                           }
                       }
                   }
               ]
           };
           option1 && myChart1.setOption(option1);
       })
   </script>


</body>
</html>