<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WordCloud Demo</title>
    <script type="text/javascript" src="./js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="../js/echarts.min.js"></script>
    <script type="text/javascript" src="../js/echarts-wordcloud.min.js"></script>

</head>
<body>
<div id="main" style="width: 1000px; height: 1000px"></div>
<
<script>
    var chart = echarts.init(document.getElementById('main'));
    $.getJSON("./queryKeywords",function(values) {
        var bufData = []
        for (var i = 0; i < values.data.length; i++) {
            var jsonData = {}
            jsonData.name = values.data[i]['name']
            jsonData.value = values.data[i]['value']
            bufData.push(jsonData)
        }
    var maskImage = new Image();

    var option = {
        series: [ {
            type: 'wordCloud',
            sizeRange: [4, 150],
            rotationRange: [0, 0],
            gridSize: 0,
            shape: 'pentagon',
            maskImage: maskImage,
            drawOutOfBound: false,
            keepAspect: true,
            textStyle: {
                fontWeight: 'bold',
                color: function () {
                    return 'rgb(' + [
                        Math.round(Math.random() * 200) + 50,
                        Math.round(Math.random() * 50),
                        Math.round(Math.random() * 50) + 50
                    ].join(',') + ')';
                }
            },
            emphasis: {
                textStyle: {
                    color: '#528'
                }
            },
            data: bufData.sort(function (a, b) {
                return b.value  - a.value;
            })
        } ]
    };
    maskImage.onload = function () {
        option.series[0].maskImage
        chart.setOption(option);
    }
    maskImage.src = '../pages/logo.png';
    window.onresize = function () {
        chart.resize();
    }
    })
</script>
</body>
</html>
