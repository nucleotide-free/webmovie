<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>可视化展示</title>
    <script type="text/javascript" src="./js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="./js/echarts.min.js"></script>
</head>
<body>

   <h1>饼状图</h1>
   <div id="main" style="width: 600px;height: 500px"></div>
   <script type="text/javascript">

       var chartDom = document.getElementById('main');
       var myChart = echarts.init(chartDom);

       $.getJSON("./queryProductResultList",function(values){

           var bufData = []
           for(var i=0;i<values.data.length;i++){
               var jsonData ={}
               jsonData.value = values.data[i]['commenttotal']
               jsonData.name = values.data[i]['commenthour']

               bufData.push(jsonData)
           }
           option = {
               title: {
                   text: 'Referer of a Website',
                   subtext: 'Fake Data',
                   left: 'center'
               },
               tooltip: {
                   trigger: 'item'
               },
               legend: {
                   orient: 'vertical',
                   left: 'left'
               },
               series: [
                   {
                       name: 'Access From',
                       type: 'pie',
                       radius: '50%',
                       data: bufData,
                       emphasis: {
                           itemStyle: {
                               shadowBlur: 10,
                               shadowOffsetX: 0,
                               shadowColor: 'rgba(0, 0, 0, 0.5)'
                           }
                       }
                   }
               ]
           };

           option && myChart.setOption(option);

       })


   </script>


</body>
</html>